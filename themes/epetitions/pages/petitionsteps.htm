url = "/petitionsteps"
layout = "default"
title = "petitionsteps"
==
<div class="columns large-9 padding-left">
<div>
<div>
</div>
<h2 class="petitionSectionTitle">Request a new e-petition </h2>
<div style ="margin-bottom: 2rem;" class="progressBar" style="background-color: #4275ae;">
<div class="tab-pane row active">
<div style ="display: grid;grid-template-columns: repeat(auto-fit, minmax(0, 1fr));"  class="progressBar-container">
<div  class="nav-link progressBar-step progressBar-step-active" {% if current==2 %} style='font-weight: bold;' {% endif %} >
1. Petition details
</div>
<div class="nav-link progressBar-step "  {% if current==2 %} style='font-weight: bold;' {% endif %}>

2. Petition terms

</div>

<div class="nav-link progressBar-step "  {% if current==2 %} style='font-weight: bold;' {% endif %}>
3. Attachments

</div>
<div class="nav-link progressBar-step">
4. Your details</div>

</div>
<div class="show-for-small-only"><p class="progressBar-smalltext">Step 1. Petition details</p>
</div>
</div>
</div>
<form  id="regForm" data-request="onCreatePetition"><h3 class="form petitionSecondaryTitle">Please fill in the details of your petition</h3>
<fieldset><span class="formField-description">
<h5 class="formFieldTitle">Petition details</h5>


<div class="row"  >
<div class="form-group" >
    
	<label class="formField"><span class="formField-text">Petition Title <span class="mandatory">*</span></span>
<span class="formField-validation"></span>
<input class="form-control" aria-label="Petition title" type="text" name="title"></label>

</div>
<p><strong><em>Tip:</em></strong>&nbsp;&nbsp;<em>The petition title is a summary of your petition request and the first part of the petition that people will see. Keep it short and to the point.</em><br><br>
<div class="form-group"><label class="formField"><span class="formField-text">Intended to <span class="mandatory">*</span></span><span class="formField-validation"></span>
<input class="form-control" aria-label="intended_to" type="text" name="intended_to"></label><p>Words directed to where the petition is going to.</p></div></fieldset>

 
<!--<button type="button"  id="next1" style="background-color:#9e7c0c;color:#ffffff" class=" btn btn-default">Next</button>-->
</div>

<br>
<div class="row"    >
   <h3>Terms of your petition </h3>

  <fieldset><h5 class="formFieldTitle">Petition terms</h5><span class="formField-validation"></span><p><strong><em>Tip:</em></strong><em>&nbsp;Make sure your reason is clear and easy to understand. People are more likely to sign your petition if they understand why you are making the request.<br></em><br>
</fieldset>

<div class="form-group" >
    <label for="textAreaField" style="color:black;" class="text-info">Description <span class="mandatory">*</span</label><br> 
    <p>The reason explains what the problem is and why you are asking for change.&nbsp;</p>
     <textarea name="description" class="form-control" id="textAreaField" rows="4"  cols="81" placeholder="indicate expected action from Parliament in response to the matters raised in the petition"></textarea> 
    </div>
   <!-- <button type="button" id="prev2" style="background-color:#9e7c0c;color:#ffffff" class="btn btn-default">Prev</button>
<button type="button" id="next2" style="background-color:#9e7c0c;color:#ffffff" class="btn btn-default">Next</button>-->
</div>



<div class="row"  >
<h3>Attachment of your petition </h3>
 <fieldset><h5 class="formFieldTitle">Petition Attachment</h5><span class="formField-validation"></span><p><strong><em>Tip:</em></strong><em>&nbsp;Make sure your reason is clear and easy to understand. People are more likely to sign your petition if they understand why you are making the request.<br></em><br>
</fieldset>
<div class="form-group" >
 <input type="file" class="form-control" name="doc_type" />
 
 </div>
<!-- <button type="button" id="prev2" style="background-color:#9e7c0c;color:#ffffff" class="btn btn-default">Prev</button>
<button type="button" id="next3" style="background-color:#9e7c0c;color:#ffffff" class="nexttab btn btn-default">Next</button>-->
</div>


<div class="row" >
<h3 class="petitionSecondaryTitle">Please fill in your details â€“ you are the Principal Petitioner</h3>





<div class="form-group" >
  <label for="registerName">Full Name</label>
  <input name="name" type="text" class="form-control" id="registerName" placeholder="Enter your full name" />
</div>


<div class="form-group">
    <label for="registerID">ID Number</label>
    <input name="id_number" type="text" class="form-control" id="registerID" placeholder="Enter ID Number" />
</div>




<div class="form-group">
    <label for="registerPhoneNumber">Phone Number</label>
    <input name="phone_number" type="text" class="form-control" id="registerPhoneNumber"
        placeholder="Enter Phone Number" />
</div>





<div class="form-group">
    <label for="registerProvince">Province</label><br>
    <select id="select-field1" onchange="updateSelectField()" name="province" class="form-control">
        <option value="">Select...</option>
        <option value="0">Eastern Cape</option>
        <option value="1">Free State</option>
        <option value="Gauteng">Gauteng</option>
        <option value="KwaZulu-Natal">KwaZulu-Natal</option>
        <option value="Limpopo">Limpopo</option>
        <option value="Mpumalanga">Mpumalanga</option>
        <option value="Northern Cape">Northern Cape</option>
        <option value="North West">North West</option>
        <option value="Western Cape">Western Cape</option>
    </select>
</div>

<div class="form-group">
    <label for="registerMunicipality">Municipality</label>

    <select id="select-field2" name="municipality" class="form-control">
        <option value="City Of Cape Town">City Of Cape Town</option>
    </select>

   
</div>



<div class="form-group">
    <label for="registerEmail">Email</label>
    <input name="email" type="email" class="form-control" id="registerEmail" placeholder="Enter your email" />
</div>
<!--<button type="button" id="prev3"  style="background-color:#9e7c0c;color:#ffffff" class="btn btn-default">Prev</button>
<button type="submit"   style="background-color:#9e7c0c;color:#ffffff" class="nexttab btn btn-default">Create</button>-->
<div style="overflow:auto;">
    <div style="float:right;">
      <button type="button" id="prevBtn" onclick="nextPrev(-1)">Previous</button>
      <button type="button" id="nextBtn" onclick="nextPrev(1)">Next</button>
    </div>
  </div>

<br>
<br>





<script>
    var values = [
        ["Buffalo City Metropolitan", "Nelson Mandela Bay Metropolitan", "Matatiele Local", "Ntabankulu Local", "Umzimvubu Local"],
        ["Mangaung Metropolitan", "Mafube Local", "Metsimaholo Local", "Moqhaka Local", "Ngwathe Local"],
       
    ];

    function updateSelectField() {
        var selectField1 = document.getElementById("select-field1");
        var selectField2 = document.getElementById("select-field2");
        var selectedIndex = selectField1.value;

        selectField2.innerHTML = "";

        for (var i = 0; i < values[selectedIndex].length; i++) {
            var option = document.createElement("option");
            option.value = i;
            option.text = values[selectedIndex][i];

            selectField2.appendChild(option);
        }
    }
</script>

<div/>




</div>

<!-- Circles which indicates the steps of the form: -->
  <div style="text-align:center;margin-top:40px;">
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
  </div>

</form>


<br>

<style>

.progressBar-step-active:before {
       left: 50%;
    -webkit-transform: translateX(-50%);
    transform: translateX(-50%);
    background-color: #4275ae;
}


.progressBar-step-active
{
      color: #4275ae;
}

 .progressBar-step {
    position: relative;
    padding-top: 20px;
    color: green;
    text-indent: -9999px;
    border: none;
    /*background-color: transparent;*/
    outline: none;
    display: inline-block;
    font-size: 1.06667rem;
    text-align: center;
    text-decoration: none;
    font-weight: bold;
}


form .row .row {
    margin: 0 -0.53333rem;
}

.row .row {
    margin: 0 -1rem;
    max-width: none;
    width: auto;
}


.petitionSectionTitle {
    margin-bottom: 1rem;
}

.progressBar-step {
    text-indent: 0;
}


.progressBar-step:before {
    position: absolute;
    top: 0;
    display: block;
    width: 15px;
    height: 15px;
    content: "";
    border: 2px solid #4275ae;
    border-radius: 50%;
   // background-color: #fff;
    box-sizing: border-box;
    z-index: 3;
    left: 50%;
    -webkit-transform: translateX(-50%);
    transform: translateX(-50%);
}

.progressBar-step:first-child:after {
    display: none;
}

.progressBar-step:after {
    position: absolute;
    top: 5px;
    left: calc(-50% - 6.5px);
    display: block;
    width: 100%;
    height: 2px;
    content: "";
    background-color: #4275ae;
    z-index: 1;
}

.progressBar-step:after {
    position: absolute;
    top: 5px;
    left: calc(-50% - 6.5px);
    display: block;
    width: 100%;
    height: 2px;
    content: "";
    background-color: #4275ae;
    z-index: 1;
}
.progressBar-smalltext {
    color: #4275ae;
    font-size: 1.06667rem;
    font-weight: bold;
    margin-left: 1.5rem;
}

.fieldset {
    background: #f3f3f3;
    border-radius: 4px;
}
.fieldset {
    border: 1px solid #ddd;
    margin: 1.2rem 0;
    padding: 1.33333rem;
}


</style>

<!--<script>
// Get the form and the steps
var myForm = document.getElementById("myForm");
var steps = myForm.querySelectorAll("div");

// Get the next and previous buttons for each step
var nextBtns = myForm.querySelectorAll("button[type='button']");
var prevBtns = myForm.querySelectorAll("button[type='button']");

// Add click event listeners to the next buttons
for (var i = 0; i < nextBtns.length; i++) {
  nextBtns[i].addEventListener("click", function() {
    // Get the current step
    var currentStep = this.parentNode;
    // Get the next step
    var nextStep = currentStep.nextElementSibling;
    // Show the next step
    nextStep.style.display = "block";
    // Hide the current step
    currentStep.style.display = "none";
  });
}

// Add click event listeners to the previous buttons
for (var i = 0; i < prevBtns.length; i++) {
  prevBtns[i].addEventListener("click", function() {
    // Get the current step
    var currentStep = this.parentNode;
    // Get the previous step
    var prevStep = currentStep.previousElementSibling;
    // Show the previous step
    prevStep.style.display = "block";
    // Hide the current step
    currentStep.style.display = "none";
  });
}


</script>-->


<script>
var currentTab = 0; // Current tab is set to be the first tab (0)
showTab(currentTab); // Display the current tab

function showTab(n) {
  // This function will display the specified tab of the form...
  var x = document.getElementsByClassName("row");
  x[n].style.display = "block";
  //... and fix the Previous/Next buttons:
  if (n == 0) {
    document.getElementById("prevBtn").style.display = "none";
  } else {
    document.getElementById("prevBtn").style.display = "inline";
  }
  if (n == (x.length - 1)) {
    document.getElementById("nextBtn").innerHTML = "Submit";
  } else {
    document.getElementById("nextBtn").innerHTML = "Next";
  }
  //... and run a function that will display the correct step indicator:
  fixStepIndicator(n)
}

function nextPrev(n) {
  // This function will figure out which tab to display
  var x = document.getElementsByClassName("tab");
  // Exit the function if any field in the current tab is invalid:
  if (n == 1 && !validateForm()) return false;
  // Hide the current tab:
  x[currentTab].style.display = "none";
  // Increase or decrease the current tab by 1:
  currentTab = currentTab + n;
  // if you have reached the end of the form...
  if (currentTab >= x.length) {
    // ... the form gets submitted:
    document.getElementById("regForm").submit();
    return false;
  }
  // Otherwise, display the correct tab:
  showTab(currentTab);
}

function validateForm() {
  // This function deals with validation of the form fields
  var x, y, i, valid = true;
  x = document.getElementsByClassName("tab");
  y = x[currentTab].getElementsByTagName("input");
  // A loop that checks every input field in the current tab:
  for (i = 0; i < y.length; i++) {
    // If a field is empty...
    if (y[i].value == "") {
      // add an "invalid" class to the field:
      y[i].className += " invalid";
      // and set the current valid status to false
      valid = false;
    }
  }
  // If the valid status is true, mark the step as finished and valid:
  if (valid) {
    document.getElementsByClassName("step")[currentTab].className += " finish";
  }
  return valid; // return the valid status
}

function fixStepIndicator(n) {
  // This function removes the "active" class of all steps...
  var i, x = document.getElementsByClassName("step");
  for (i = 0; i < x.length; i++) {
    x[i].className = x[i].className.replace(" active", "");
  }
  //... and adds the "active" class on the current step:
  x[n].className += " active";
}
</script>